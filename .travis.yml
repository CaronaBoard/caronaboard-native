language: javascript
os: osx
osx_image: xcode8.3
rvm: 2.2
branches:
  only:
    - master
cache:
  bundler: true
  yarn: true
  directories:
  - node_modules
  - vendor/bundle
before_install:
- nvm install && nvm use
install:
- npm install
- bundle install
script:
- npm run test-ci
- npm run lint-check #TODO: Make danger report lint failures
after_success:
- npm run update-coverage
- bundle exec fastlane android deployAppetize
after_script:
- bundle exec danger
env:
  global:
  - NODE_ENV=development
  - secure: Gf5aZOPZjqDKFk2Y3DYyvwr3S/6to3amVH57Lc8dX9MLTtkTkssPw0Pl8xOAROgFCfllQgkEki33XQsWbmmj3DjIZFEvFPCpppJqHVo57NlgsJw2nutyXbo95PsgoNDdwsiBpNYraJ8rW9DlgZ6xKhyDDGA0WDSJD5beLV0S13pr8cb+ZFRT1+DdfVqyzbiVagr+S3nEyaCML0cQB475iCcY2jCl+nA8AJB4Lf4KxXiYStvQLmFpMqLLQakxOZHvcsrgYfLGOtWUEPo+sVhxC8jwapes0H3FuLfAHEJQaDAwDriV0hVl9Dweqb5bHpYbuszinYBrU6ohoNoWSix5yxB0PyyHZMg+y+hJMkXf3N/w0DkBzAG2dycC2RAxAAhsGc3DG6ODzhyKyiMSviiNoJ2TknmhEv6AnYpZHfouCGH+nfzv/zM11uRjnAoVcVQ1yXJsPo/7GWFkxuj7Arce6de23l3NDAy9O/HmCs28DcYyB6gNSztjo4ppE+I+RwpNKb+YAiUsapitkW5Pm4FD76WYUGY+9e9GQz4DLL07m6LB4DcE2ZPRiWL482g5/5ZDP/9z3bYpqF6qKuqqxSosIo5WzUjEvJ5L9BpFnfLBk9kmnEiFKLdn9s8RLoxOhruPuLoswFnaO7R/A6CfCMzvKKzC4cAYBZdgFTNVJxF5+48=
  - secure: XI3xLoy6HRwvYO4HckMpIVq2CatexdQbG3tlc4f2HHGQ1xB9R7EeVWUgIofqa8TZUDR7a6IawrgakhlVbm4us0xGOYVy5gLWhFf8wHMWAB1eGC5kvl9gxL7yvKCDgtIcmtjfgeMct9EdvqlDxxFaDMce5j2BK6UAd+SFqXP4JZWU7aZyXTdr8qyCaceVnG24qA+ERGoekOKc26EApN+mXQ23sV9nxJmNurtPjmasaMpFCpbdeZFHAv2PkiaJZfkRmOjqKDLhOAJslIRAK8/VNGzPIF3MdXm9q6m9C+hFEOcHSSancA0D5ASNokA4LtgyhhgpDSqCLoprooJvu2DQwPNdZ78uUJpg8Uwdp/SmjZ+y7gKGg3LTb6WEh+7le2mgnb4/lITY4DKuk5JvgVAV8iMx+NiqM/bxZ+GrBSuzdfw0QJuQzF6B0GIdRB5rVca9Q/jZkVgjM1ZvBOEPKZHs69x6iHqG416RlrNFxwtvdd8dvHOPLZm01/Dn/zsyzn8iyRVTBQCIc95VAUaIBLrf6OwzTZ0qB7Z5PfrBqpZN7MThHpccSdDqBVrN3IsTmvsCDomCP64p9oXH54IrxRj+bqWCtq2yRLfjN5O4eVNAMWDtIntPmk0px467V1uzc4xGDMpkaYiNdSHadaJcHk+HejoqpuVW6tm7REY5+ShJYuw=
  - secure: Ncl/KtijDsRRCtlgLREiW8WBL2PyftzpyoQU6ezhmHtQSkzmkunzNWo/P094NYepQ8nfoO3Dt1Z7brgrD3lfFGRRA5FOTxRbhiemXYaALThm6chtAVJb1FPuVjJCLW/O2PuGF+g46l4dtvBSphZfcxPT3MjGcdwuyv9ZZfYy+4/fb85gif96qgQKW7OjU4ZmIQx8O/BVkeV6ITB6n5jeNFcMPLL86htSa27ExN2MjHBrOUrmBqS4xh+X0Ut9R9QEr18wVcB4+irRf8G45dvrRycCCIkN6KXuGy6Q9DktGoI0MwwT3YzwNtgnL1sqiMx7j7PXg8NQIhrWyBa9xEoVDQsg0bDE0LlaB7On7CrAiov771F1RJ4JSVWMfGLiHRQfeUuQYB/NGAmFCzvEE/Elx5jVIzhMxZYndagxAAqouK1frwwYGUk6wHjx17/psSGx32mPlvLirwex2dq2isQ3JCN9hTdwHcaygrPe9akqBErKrBnUfA7dXH+J4jddNVxgYUvWX2iDgMRahl0a4Q+MuYEFRxw6zKp1rdb0aq0bRcXxqtI/ThmBTQoVgyrgjcomALOHQQfB6aKRvzA1X1WYQNH2vGezYaE6mHcd+VROa0J1SO7fGKcRLB1uUAJIQwD/7xMEHli4psSgwc3PgINw2XB5kODH6yqTqpR6uavgFDM=
  - secure: cKk+lMi4i40mqNTMNBnUoBvk9CxVko0iN6eyZrR+uAHETA29T/T1QT8gwfSJ7WZhdN0STPSXrIBirD+55pqcmOW3OZPtd4opEjnbIdxjioCf53+Ou/Q+qB60DQsnAsvmcm4v+zcvuqXPyUGCH957t3bW8R8/uDYvXP+FIELAN93hUi0Q5RwwaGV+6uZtQ15ZyC0PyAxkuNu73qMuw1llVHciMR4BNSREG4Ng4FPnvrMQR05KtxUsE4MASzqqbwuJyNXDXjqEXI4n70rhu3REd31/ATP4yIzVtwBU9vwtkqXmmMtz3xOybloJo7w0rO+M9Vyl8BZNJ6yGy/1/0AaxBDxSj2Xtz0lRY5aCxgVFoKqmEfY1JjDitmfIpkUr1cAxVv6PHaLIHUXpnSJwvrBUdSGLqjobcqEQQoGN59tsb20hTZ9NjRhNNQ/uYOCb+0F3UHkAlQFwtWhs5AxA0HWHlwuThqNRDjRlmNfobeSL+dO5CxbC5L+4J9hhOALWMBYdUbUL/lIj+Jp/HTzyozmVUClHGxqFb1dMHeL2t04yGorEX/Gr40JRq4hee6zEDN6b9rjNsypJXbv316DFDIn+4/eFiPPVIxDlu3+OPT3EOlw2JZajV+xAZSmgCSfIZ4zzuxYiXsaEuJmpyobuCAxybt1L8QWUmvBrvGCVmx7SrsI=
  - secure: Cw0jlURv1FF1vtIrZaREA3hkqq450b7PXXyiMYuHZ2hdmmbkVZGxekYeuzPbpoeVAmukEDklHuFECGHAb/tfzdMYDdnWGc/4CSPWpahP0SDZsHxPxUuCz2NWy2LGrD/2kLHAJFh4MDLCIRcqpZbEXnn3mWSeQFRlkGiVj5pPcHVlCcn002YR/9ymojGy/mfC1WhdzlaWVI4dc3QAAHTz72/JCIEQixgxMlLwQoakBJvdqZ2UlEdZGjmHPJHM9DHBpmfaMeFpQCGnpVEa/5savkJXZZunFWVhpvHnExVUWtCT1rX1O0h2sAyriAJNbpdS3lTdrFXB1O96MgWU2FRqtLrItOIcE+/rSZePaF+4j+d8ltUqgP+VUJy8YRTslXoNQB6GmHwY1/fAdYLk+dWFnehQA87427hYZkh5HrmoR+7COhXpQxem4nDHm0evgsIwYr73jINVNMfVWkyZu1LSdZ3tiI0X+os7hT8DjMimG3ME18pk8SCla2qB81XoCKkK8DxZIiAb5jRmmpXSHrKXxBzCHqLJB4OnQKlAgQHtcdnt5+lCgGndSoXqeiSblr7Mz9MAiUUIaIQpx7nsAak/6C095ue3exAdilm0dDOJE14SWADi9Edil+XGUrztF0T4UbkEmlAYjRcugqfNSdlI5wNkxybm6UXYlbf6NNM9Uqw=
  - secure: FzN0x2hgP2ad689N+yKwMY3iooLNZHpCUxivXdG5ZBEJdDcAqAktkviDS6UDr38rkzi9846QZSrlI/leui1Ap/bB8xkOHcMq4Cz7uOIWOmjltYvpIkwrh5/NuKj7FrauWSKZZSPqXYdXwkC+/9I1sCkofL3hCKjf4ArTplx7hXG4DHLHbxs8RGLTPDBb2Ah5JOGQr0eKuk82yYL4FIGaWjWewZkVcj6VlhokaphVlgVXTm6qFS/fzKOq4SHGaeFKsb8DB5L/934lq7oIVc9G3mKwflBuO1Yi0DKwN+s7iWqUhpE6YwXXKhYVxg0SxGFTwwYaHegZoexa4Yl4Kk2WOFp0r4iiP0Td91dbauxlbZv4UCdK0UO1YSO4sX0FLw/AfJ8DltZ3249MUInTNuQZCkqHygmzkpyfkLEsqbrOdPzIq2hkMloignMGvVTx8T3bcHTEuoVjJyCf1zomGEqCpvbCA0KHLkRu0U6G1Tng4iDcus/vqSh/+gutP/AZvStfY7YvnOyPmH4Ln0zvV83avpV043WHkmYgK8wrQNKEH6DfENKHarp/IBo/xM1BxE9Tkv1ic2z3H0N/obpsMwy7Sukqsb/dNkegxSJlFVm8opPEjPltfCBxeiYK+0jzPKDGeZDRrhD6zdVCu7zAaUamSTLAEMbKjbQZfrCO9etWsYI=
  - secure: g2keXTPL9nrqMEVN708DoqVx5jlWk6gwoDi/4/gragM5H1Bo6af2sGzu8u5FUY2HGsIrSTH4xU+TqYRDqjIVzsf3qJmh71C+OuYmFYCWhG0KDgODjNDkGSPGfbg2LQrtnqTHAilR8pY0mx5is03JikUlghohlYDCp67deWFumH5XsuTqQ3UOzQ81GxnMYZppK7MRNyj6JMfW/ewwIoBtMqiXQZCwJ1b9doJtyoqG8kYRlUq8fmFTORZCzYEAvjVwNmJMayPs4LMKxrZbK/q5tJCA79awujxgKGyMoAxhe3LwKgGzWB9lMDscbjkc5JxKDaYqzYyC+wMzDMcQBglLb/WOolmGI7ZLxDxDTkYYG/5TQ/8n6rAzQmMGCR9/LQVtj5U5Ff1UnwfUVe1aFG7RJFO73ynHdg3KA3d3QWL10x+iCHFrKdRblr79OSnes1QD9MX/B8d52f/n7smkm4Ptcsm/+giwi0KMBt2jKqi4B71lgjgDyWGTrozcTTtDLbstFXLsSdovryyCCrph5QZN+MR+fb6to9l/wRhVxgbeg2P+KXdyaWz3uFeDZz47gGCkInRVbLy1YeJHZSN9rW8zd8x9OclZjzdMaqZmnpHfm3RemkBLigIc+35THUGEuD2WlOR9cHpng3ZAL1a0TezN/IU54hUkXza/Y/p9Cgj2U08=
  - secure: Ba1Cm8I0hNBrE3jKlBwGaeb8C8alk1XdPf7XarWFZprGWckvSFV349M+gIGLEjHbz25QnAEXcr/E8AZLIdZLrTj4AJtWgwM04fRzbkI/WI+iZ0E74DkCIZtm3uLBkHU7xs0dVZ8UjjeQn5Vl6Bf4/Xp5pwq2kQ6DiE0Ckv26QezlovGf9I8zR/7MwbhLxNLxhv0my9M8eURrYnv73BOgLXHj5gUuJMunrHpyyQD9RgcZ47iXLZnUQxEEsVe+Y9CnUpFQj+R0w9l7Cup5I5Vw9JNCP+zdc9SA8r6NgKY5zDYzO2uyOgsyyvQPvRLjPhH7Zw4yKLzR88YUYDoM2O5d5PfmfWB1kSGbIchgh9MTog0u8OUa7LMcXngI5d3KStS7QesqNO4OYmyGoKk3G/eKyZyacLQ9jIh1X9sRhpXiDd7wPYAPFfpR1kK4FcYVDFVdND1laK2BDqc472RkKnJq6IFsLgbD52KezoY06Xg/kcIQ40233Xni3xEaoSK5WqnhuZPrJtMjGoKFqar4YlITYhoLcLB3Y6u0CP5VGnUYS4FeTWVcNzlXHnFq6dAexEl1EPbL+jSoPTXGonj9JsUIg3POzRC+cPZNY8HAvITaqKxNV1p1Zdkh/29sR24FnKvZQhvBXsJggX6LlNKHU0UhBCsuLQPqZGOLY39AGaUrJz4=
  - secure: HFUclrdjFqkkAo3g96ObhrXFHDdm+Pn1YB+eErt5GhYNyKb9Eet1UNf1JT7vpk34WQNj0HbWdGEDOt00EFbpDggYA/DZJ+Qi9BkyVgk8DB+6ds/VaTp48299VDyBZ8mqEn7wTbvTkmfb+MCoY5cUXBNmqqeI2dhzurNdgeYkp5ry9yAu4cLV37+F+CayZUxiCWjDwjgUGqr2E6P8SU+Rxwkexi/wH3ox5VIfNRiKHgUqnnkF0kIRSwkKtv2AMB6MizVCEOBHVDhqAcwWTw1IV+M5p9+CiUh2PlB8jxaqBLbN13sf+Sk/sIuxep1MLB75Dl16hVUnapD9SYOkBPgRCkpZXtS8F9rtwg5fe5Rm7yY/8VzICykR6/9LFK+Zq9iNzvmWLFUN4qW78/5FBWhAHu8DpXCzU3VlCfY7cb4NfV6zPBZELhq5YmNjQdTYFp1gqQnJToBDGSA9Dn5AhOLIwsb3svpIO4ctMVilKm1gqjRGMaU4mjsLYBpRcbHNlHhCLd62RcVEc2WshfWtBkcJt4fO5lnDTnfD9kL1bfigLtTc3mJ5DORWVkeN7nS9+iJ+4DaVVLS5lrBILQzr7zYh5W7j+bs8IqquNWrdQBkJKFcpe0LEYD1BT/H9Lg/3630lOkvEA1qs9NEXtgfN4FAXYLTREysFWWui1cI8w6UfQDE=
  - secure: vxQ86zd0uWtziiVIFJZGUEy2CA0JsIpPDbQof5zo6dosAT2iVWh2JpIbvQHPwxjtqfYXYZqgXggNywje6R5ULGEB3j71k3pB7GSsVl4GZUUOD4Z5mPVTrl/X5H+9s/AUm7ZbCR0KcJ9xUy7c8Qyh2WzWo9RgKviT1LXLyY1sTkpHOKkZX/gH97qeWG8WHT+SoXiZ8Llvr+Zqdpfm2vToU9OFCaApFMXPSIAbwHqELNLX7cmMQLvyZDWqMrcmIOZHtDYM28zFIrkzqRvo4b7p5NMa4HpWp/UQUKIW/TxTZvqsHs+wLs76ilGZuePBt8j7TfZOEo6CFO6h22LEMJDBsEEcfQI0YUW2SapWTr7M/JP/R4D2Lo0A8E1aX1qvr8sN2VAhydBmwEN9WRmSv8MIA6RXa6Uiisx8OdDlTs9xc6fpVHA4TVoua/jzYy8GRyR/D4di10lS/K3PO5nGNRvW5aH9eWbOdxoQG7mg4A580L5hFx24Xe1hPWBzNT13DaboZtyMfR6w1yYTH6sfnZaxgaFMNtPD/3r+90LPqYL82tHPXCMmeBBOQTv+w/UdPFJbyMAsKJADkbgPCS39LVdDmTLzQsGdwQQbqxetxpKLq5xuGeDGhS82gsBzCqpn0s4U74gnKfUylqSC3OflfICBfJWFqFB62y9cq1gnF4YZ0jU=
